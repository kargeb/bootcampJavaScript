<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="../css/styleNew.css">

    <link rel="stylesheet" href="../css/styles/atom-one-dark.css">

    
    <script src="../highlight.pack.js"></script>
   
    <link rel="stylesheet"  href="../themes/prism.css"/>


    <title>Document</title>
</head>

<body>
        <div class="container-fluid ">
            <header>
                <div id="homeButton">
                        <a href="../index.html#4"><i class="material-icons md-46">home</i></a>
                    </div> 
    
            <div class="row mt-4"></div>
            <div class="row head bg-secondary shadow-sm">
               
                
                <div class="col-8 offset-2 text-white">
                        <span class="badge badge-light shadow">Treść zadania</span>
                    
                    <h3><br>
                        4. Iteartor dla klasy losującej liczby
                        </h3>
                        
                        <p>               
                            W lekcjach drugiego tygodnia, w sekcji Praktyczne projekty znajduje się lekcja 
                            pt. Losowanie Dużego Lotka. Utwórz z użyciem zapisu ES6 klasę Lotek, która zawierać 
                            będzie metodę getNumbers, a ta z kolei wylosuje liczby według logiki ze wspomnianej 
                            lekcji. Metoda ta powinna być wywoływana od razu przy tworzeniu nowej instancji obiektu 
                            tej klasy. Wylosowane liczby musisz zatem zapisać wewnątrz obiektu. Dodatkowo stwórz 
                            metodę checkNumbers, która pozwoli podać 6 liczb jako osobne argumenty i zwróci obiekt, 
                            który zawierał będzie właściwości numbers, gdzie będzie tablica z traﬁonymi liczbami oraz 
                            count, gdzie będzie liczba traﬁonych numerów.
                            To jednak dopiero początek, gdyż najważniejszym celem tego zadania jest dodanie 
                            iteratora do tej klasy. Po poprawnym jego dodaniu, kiedy na obiekcie utworzonym z tej 
                            klasy użyjemy operatora …spread lub pętli for…of, powinien on zwrócić kolejne wylosowane liczby. 
                            Przykładowe użycie tego kodu powinno wyglądać następująco:
                            https://pastebin.com/0zygc3hk.
                        </p>
    
                        <br>
                </div>
    
    
            </div>
        </header>

          
            <!----------- MAIN TASK ------------>
            <br>
                    
            <div class="row justify-content-center ">
    
                <div class="col-md-8 bg-white shadow rounded">
                        <span class="badge badge-secondary shadow">Rozwiązanie</span>


                        <div class="row justify-content-center py-4">

                            <div class="col-auto">
    
                                <input id="inputNewNumber" type="number">
                                <button id="buttonNewNumber" class="btn btn-outline-success">Podaj liczbę</button>
                                <button id="buttonRandomNumbers" class="btn btn-outline-success">Wstaw losowe</button>
    
                            </div>
    
                            <div class="col-auto">
    
                                <h2 id="gotNumbers" ></h2>
    
                            </div>
    
                        </div>
                        <div class="row justify-content-center py-4">
                            <div class="col-auto">
                                
                                <button id="buttonDraw" class="btn btn-outline-success">Losuj liczby</button>
    
                            </div>
                            <div class="col-auto">
                                <h2 id="showDrawNumbers"></h2>
                            </div>
                        </div>
                        <div class="row justify-content-center py-4">
                            <div class="col-auto">
                                <p id="output_result"></p>
                            </div>
                        </div>                        

  
                </div>
    
            </div>
            <br><br>

            <div class="row bg-secondary">
              
                <div class="col-8 offset-2 ">
                    <br><br>
                    <span class="badge badge-light shadow">Kody źródłowe</span>
                    <div class="accordion" id="accordionExample">
                            <div class="card text-white bg-dark border-dark ">
                              <div class="card-header" id="headingOne">
                                <h5 class="mb-0">
                                    <br>
                                  <button class="btn btn-link text-white" type="button" data-toggle="collapse" data-target="#collapseOne">
                                        <h5 class="card-title">Klasa Lotek:</h5>
                                  </button>
                                </h5>
                              </div>
                          
                              <div id="collapseOne" class="collapse show" data-parentt="#accordionExample">
                               
                                        <pre class="code">
        class Lotek {

            constructor(){
                this.max = 49;
                this.numberOfDrownNumbers = 6;
                this.drownNumbers = this.getNumbers(this.max, this.numberOfDrownNumbers);
            }
        
            getNumbers(max, numberOfDrownNumbers) {
                let tempDrownNumbers = [];
        
                while (tempDrownNumbers.length != numberOfDrownNumbers) {
                    let randomNumber =  Math.floor( Math.random() * max ) + 1;
            
                    if( ! tempDrownNumbers.includes(  randomNumber ) ) {
                        tempDrownNumbers.push( randomNumber );
                    } 
                }
                return tempDrownNumbers;
            }
        
            checkNumbers(userNumbers) {
        
                let match = [];
        
                for(let i=0; i&lt;userNumbers.length; i++){
                    if( this.drownNumbers.includes( userNumbers[i] ) )
                    match.push( userNumbers[i] );
                }
        
                return { numbers : match,
                            count : match.length };
            }
        
            *[Symbol.iterator](){
                yield *this.drownNumbers;
            }
        }
</pre>
                              </div>
                            </div>

                            <div class="card text-white bg-dark border-dark ">
                              <div class="card-header" id="headingOne">
                                <h5 class="mb-0">
                                    <br>
                                  <button class="btn btn-link text-white" type="button" data-toggle="collapse" data-target="#collapseTwo">
                                        <h5 class="card-title">Cały kod:</h5>
                                  </button>
                                </h5>
                              </div>
                          
                              <div id="collapseTwo" class="collapse show" data-parentt="#accordionExample">
                               
                                        <pre class="code">
        class Lotek {

            constructor(){
                this.max = 49;
                this.numberOfDrownNumbers = 6;
                this.drownNumbers = this.getNumbers(this.max, this.numberOfDrownNumbers);
            }
        
            getNumbers(max, numberOfDrownNumbers) {
                let tempDrownNumbers = [];
        
                while (tempDrownNumbers.length != numberOfDrownNumbers) {
                    let randomNumber =  Math.floor( Math.random() * max ) + 1;
            
                    if( ! tempDrownNumbers.includes(  randomNumber ) ) {
                        tempDrownNumbers.push( randomNumber );
                    } 
                }
                return tempDrownNumbers;
            }
        
            checkNumbers(userNumbers) {
        
                let match = [];
        
                for(let i=0; i&lt;userNumbers.length; i++){
                    if( this.drownNumbers.includes( userNumbers[i] ) )
                    match.push( userNumbers[i] );
                }
        
                return { numbers : match,
                            count : match.length };
            }
        
            *[Symbol.iterator](){
                yield *this.drownNumbers;
            }
        }
        
        const inputNewNumber = document.getElementById("inputNewNumber"),
                buttonNewNumber = document.getElementById("buttonNewNumber"),
                buttonRandomNumbers = document.getElementById("buttonRandomNumbers"),
                gotNumbers = document.getElementById("gotNumbers"),
                showDrawNumbers = document.getElementById("showDrawNumbers"),
                buttonDraw = document.getElementById("buttonDraw"),
                output_result = document.getElementById("output_result");
        
        let newNumbers = [],
            greatLotek;
        
        buttonNewNumber.addEventListener("click", function(){
            inserNewNumber();
        })
        
        buttonRandomNumbers.addEventListener("click", function(){
            newNumbers = drawSix(49).sort( function(a, b) { return a - b } );
            gotNumbers.innerText = newNumbers.join(", ");
        })
        
        buttonDraw.addEventListener("click", function(){
            greatLotek = new Lotek();
        
            showDrawNumbers.innerText = greatLotek.drownNumbers.sort( function(a, b) { return a - b } ).join(", ");
            let {numbers, count} = greatLotek.checkNumbers( newNumbers );
            output_result.innerText = "Liczba trafionych liczb: " + count + " \nOto numery: " + numbers;
        })
        
        inputNewNumber.addEventListener("keypress",function(e){
            if(newNumbers.length == 6){
                buttonNewNumber.disabled = true;
                inputNewNumber.placeholder = "Podałeś wszystkie 6 liczb";
                inputNewNumber.value = "";
                return false;
            }
        
            if( e.key == "Enter" ){
                inserNewNumber();
            }
        })
        
        function inserNewNumber(){
            if( !inputNewNumber.value){
                inputNewNumber.placeholder = "Podaj liczbę!";
                return false;
            }
            
            let number = Number(inputNewNumber.value);
            
            inputNewNumber.value = "";
            inputNewNumber.placeholder = "";
            
            if( newNumbers.includes(number) ){
                inputNewNumber.placeholder = "Już podałeś taką liczbę!";
                inputNewNumber.value = "";
                return false;
            }
            
            if(Number.isInteger(number) && number > 0 && number < 49 ){
                newNumbers.push(number);
                gotNumbers.innerText = newNumbers.join(", ");
                
                if(newNumbers.length == 6){
                    buttonNewNumber.disabled = true;
                    inputNewNumber.placeholder = "Podałeś wszystkie 6 liczb";
                    return false;
                }
            } else {
                inputNewNumber.placeholder = "LIczba musi być CAŁKOWITA, większa od 0 i w zakresie 1-49";
            }
            
            inputNewNumber.focus();
        }
        
        function draw(max){
            return Math.floor( Math.random() * max ) + 1; 
        }
        
        function drawSix(max){
            let drownNumbers = [];
        
            while (drownNumbers.length != 6) {
                let randomNumber = draw(max);
        
                if( ! drownNumbers.includes(  randomNumber ) ) {
                    drownNumbers.push( randomNumber );
                }
            }
            return drownNumbers;
        }
</pre>
                              </div>
                            </div>

                          </div>
                          <br><br>
                </div>
    
    
            </div>
            <br><br>
    
    
        </div>
        
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
        <script src="54.js"></script>
    
    <script>

            $('.code').each(function(i, block) {
              hljs.highlightBlock(block);
                });
                
    </script>        
    <script src="../prism.js"></script>
            
    </body>

</html>