<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="../css/styleNew.css">

    <link rel="stylesheet" href="../css/styles/atom-one-dark.css">

    
    <script src="../highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    

    <title>Document</title>
</head>

<body>
    <div class="container-fluid ">
        <header>
            <div id="homeButton">
                    <a href="../index.html#0"><i class="material-icons md-46">home</i></a>
                </div> 

        <div class="row mt-4"></div>
        <div class="row head bg-secondary shadow-sm">
           
            
            <div class="col-8 offset-2 ">
                    <span class="badge badge-light shadow">Treść zadania</span>
                
                <h3 class="text-white"><br>
                        1. Instrukcje warunkowe 
                    </h3>
                    <p class="text-white">Za pomocą instrukcji warunkowej if (wraz z blokami else) lub switch, stwórz skrypt, który 
                            w konsoli (za pomocą console.log()) wyświetli cenę produktu, w zależności od liczby 
                            zakupionych przez klienta do tej pory produktów. Oczywiście wszystko to jest abstrakcyjne, 
                            więc musisz utworzyć zmienną, która będzie przechowywała liczbę zakupionych produktów, 
                            np. 100, a następnie zmienną z ceną jakiegoś ﬁkcyjnego produktu, np. 50. Poniżej tych 
                            dwóch zmiennych utwórz blok instrukcji warunkowych, który ustali ostateczną cenę, w 
                            zależności od liczby zakupionych przez klienta produktów. <br>
                            Jeśli zatem klient ma już na koncie od 5 do 20 zakupionych produktów, to przyznaj zniżkę 
                            5%. Jeśli 21 do 50, to 10%, od 51 do 100 produktów daje zniżkę 15%, a powyżej 100 
                            produktów zniżkę w wysokości 20%. <br>
                            Musisz zatem obliczyć ostateczną cenę produktu, a następnie wyświetlić w konsoli 
                            komunikat, np. “Podstawowa cena produktu to 20zł, po obniżce to 17zł”. Aby to 
                            przetestować, będziesz musiał zmieniać liczbę zakupionych przez klienta produktów w 
                            zmiennej, w której taką informację zapiszesz.
                    </p>

                
                    <br>
            </div>


        </div>
    </header>
      
        <!----------- MAIN TASK ------------>
        <br>
                
        <div class="row justify-content-center ">

            <div class="col-md-8 bg-white shadow rounded">
                    <span class="badge badge-secondary shadow">Rozwiązanie</span>

                            <div class="row ">

                                <div class="col-lg-9 border-bottom ">
                                        <div class="form-group row mt-4 ">
                                                <label class="col-md-6 col-form-label text-sm-left  text-md-right" for="cena">Wpisz cenę produktu:</label>
                                                <input  class="col-md-4 form-control" type="number" id="cena" placeholder="-" autofocus >
                                         </div>
                                         <div class="form-group row ">
                                                <label class="col-md-6 col-form-label text-sm-left  text-md-right" for="ilosc">Wpisz ilość:</label>
                                                <input class="col-md-4 form-control" type="number" id="ilosc" placeholder="-">
                                        </div>

                                        <div class="row mt-5 mb-3 ">
                                                <div class="col-6 offset-3">
                                                    <button id="calculate_button" type="button" class="btn btn-outline-primary">Oblicz pierwsze zakupy</button>
                                                </div>
                                                <div class="col-3 ">
                                                    <button id="reset_button" type="reset" class="btn btn-link">Resetuj dane</button>
                                                </div>
                                        </div>
                                </div>

                                    <div class="col-lg-3 border border-top-0 pl-4 ">
                                        <table id="discount_table" class="table table-sm table-borderless text-center h-100 d-inline-block rounded">
                                            <thead>
                                                <tr>
                                                    <th colspan="2" class="pl-4" >Tabela zniżek</th>
                                                </tr>
                                                <tr>
                                                    <td class="pr-3 " >Produkty łącznie:</td>
                                                    <td>Rabat:</td>
                                                </tr>
                                            </thead>
                                            <tbody  >
                                                <tr>
                                                    <td class="pt-0 pl-4">5 - 20</td>
                                                    <td class="pt-0">5%</td>
                                                </tr>
                                                <tr>
                                                    <td class="pt-0 pl-4">21 - 50</td>
                                                    <td class="pt-0">10%</td>
                                                </tr>
                                                <tr>
                                                    <td class="pt-0 pl-4">51 - 100</td>
                                                    <td class="pt-0">15%</td>
                                                </tr>
                                                <tr>
                                                    <td class="pt-0 pl-4">101 &lt; &infin; </td>
                                                    <td class="pt-0">20%</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                            </div>
                    

                    <div id="hiddenRow" class="row ">
                        <div class="col-12 text-center ">

                            <p id="task1-p" class="pt-4 pb-3"><em>Liczba wszystkich zamówień złożonych do tej pory to <span id="products" >-</span>, Twoja zniżka na zakupy wynosi <span id="discount">-</span>.</em> </p>
                            <div class="w-100"></div>
                            <div class="col-8 offset-2 ">
                                
                                <table id="result_table" class="table table-sm table-borderless">
                                    <thead>
                                                <tr>
                                                    <td class="border-right">Cena za sztukę:</td>
                                                    <td class="border-right">Ilość sztuk:</td>
                                                    <td class="border-right border-dark" >Cena przed obniżką:</td>
                                                    <th class="border border-dark border-bottom-0">Cena do zapłaty:</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td id="product_price" class="border-right">-</td>
                                                    <td id="amount" class="border-right">-</td>
                                                    <td id="before_discount" class="border-right border-dark">-</td>
                                                    <td id="after_discount" class="font-weight-bold border border-dark border-top-0">-</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <br>
                            </div>
                            
                        </div>


                    </div>


            </div>

        </div>
        <br><br>


        <div class="row bg-secondary">
          
            <div class="col-8 offset-2 ">
                <br><br>
                <span class="badge badge-light shadow">Kody źródłowe</span>
                <div class="accordion" id="accordionExample">
                        <div class="card text-white bg-dark border-dark ">
                          <div class="card-header" id="headingOne">
                            <h5 class="mb-0">
                                <br>
                              <button class="btn btn-link text-white" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    <h5 class="card-title">Funkcja warunkowa:</h5>
                              </button>
                            </h5>
                          </div>
                      
                          <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parentt="#accordionExample">
                           
                                    
                                    <pre><code>
function calculateDiscount(amount) {

    discount_table_rows[color_cell] ? discount_table_rows[color_cell].classList.remove("table-primary") : null;

    var dis = null;

    if (amount < 5) {       // opis opis opis
        dis = 0;
    } else if (amount >= 5 && amount < 21) {        // cos cos
        dis = 5;
        color_cell = 0;
    } else if (amount >= 21 && amount < 51) {       // cosa cosa cos
        dis = 10;                                   //djastd75tuyastd785678 asd
        color_cell = 1;
    } else if (amount >= 51 && amount < 101) {
        dis = 15;
        color_cell = 2;
    } else if (amount >= 101) {
        dis = 20;
        color_cell = 3;
    }

    discount_table_rows[color_cell] ? discount_table_rows[color_cell].classList.add("table-primary") : null;

    return dis;
}
}
</code></pre>
                          </div>
                        </div>
                        <div class="card text-white bg-dark border-dark border-top-0">
                          <div class="card-header" id="headingTwo">
                            <h5 class="mb-0">
                              <button class="btn btn-link text-white collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                <h5 class="card-title">Cały kod:</h5>
                                
                              </button>
                            </h5>
                          </div>
                          <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parentt="#accordionExample">  
                                <pre><code>
var discount_output = document.getElementById("discount"),
    products_output = document.getElementById("products"),
    before_discount = document.getElementById("before_discount"),
    after_discount = document.getElementById("after_discount"),
    discount_table = document.getElementById("discount_table"),
    result_table_cells = document.querySelectorAll(".discount_cell"),
    button_calc = document.getElementById("calculate_button"),
    button_reset = document.getElementById("reset_button");
    // hidden_elements = document.getElementsByClassName("invisible");

var discount_table_rows = discount_table.children[1].children;

var number_of_products = 0,
    discount = 0,
    sum,
    color_cell = null;




button_calc.addEventListener("click", function () {

    var product_price = parseInt(document.querySelector("input[name='price']").value);
    var amount = parseInt(document.querySelector("input[name='amount']").value);

    number_of_products += amount;
    discount = calculateDiscount(number_of_products);

    products_output.innerText = number_of_products;
    discount_output.innerText = discount + "%";

    var sum = (amount * product_price) - (amount * product_price) * discount / 100;

    before_discount.innerHTML =  amount * product_price + " zł";
    after_discount.innerText = sum + " zł";

    button_calc.innerText = "Oblicz kolejne zakupy";

    console.log("Podstawowa cena produktów to " + amount * product_price + " zł, po obniżce to " + sum + " zł");

})

button_reset.addEventListener("click", function () {

    if (number_of_products) {
        number_of_products = 0;
        discount = 0;
        sum = 0;
        discount_table_rows[color_cell].classList.remove("table-primary");
        result_table_cells[0].classList.remove("table-primary");
        result_table_cells[1].classList.remove("table-primary");
        color_cell = null;

        products_output.innerText = " - ";
        discount_output.innerText = " - ";
        before_discount.innerText = " - ";
        after_discount.innerText = " - ";
        button_calc.innerText = "Oblicz pierwsze zakupy";
    }
})

function calculateDiscount(amount) {

    discount_table_rows[color_cell] ? discount_table_rows[color_cell].classList.remove("table-primary") : null;

    var dis = null;

    if (amount < 5) {
        dis = 0;
    } else if (amount >= 5 && amount < 21) {
        dis = 5;
        color_cell = 0;
    } else if (amount >= 21 && amount < 51) {
        dis = 10;
        color_cell = 1;
    } else if (amount >= 51 && amount < 101) {
        dis = 15;
        color_cell = 2;
    } else if (amount >= 101) {
        dis = 20;
        color_cell = 3;
    }

    discount_table_rows[color_cell] ? discount_table_rows[color_cell].classList.add("table-primary") : null;

    return dis;
}                                                     
</code>
</pre>       
                            
                          </div>
                        </div>
                      </div>
                      <br><br>
            </div>


        </div>
        <br><br>


    </div>
    <script src="11.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>


        
</body>

</html>