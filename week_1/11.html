<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="../css/styleNew.css">

    <link rel="stylesheet" href="../css/styles/atom-one-dark.css">

    
    <script src="../highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    

    <title>Document</title>
</head>

<body>
    <div class="container-fluid ">
            <nav>
                    <ul class="nav nav-pills flex-column">
                            <li class="nav-item">
                              <a class="nav-link active" href="#">1</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link text-right" href="12.html">2</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link text-right" href="13.html">3</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link text-right" href="14.html">4</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link text-right" href="15.html">5</a>
                            </li>
                          </ul>
                </nav>
        <header>
            <div id="homeButton">
                    <a href="../index.html#0"><i class="material-icons md-46">home</i></a>
                </div> 

        <div class="row mt-4"></div>
        <div class="row head bg-secondary shadow-sm">
           
            
            <div class="col-8 offset-2 ">
                    <span class="badge badge-dark shadow">Treść zadania</span>
                
                <div class="card border-light bg-light">
                    <div class="card-body text-dark">
                        <h3 class="card-title"><br>
                                1. Instrukcje warunkowe 
                            </h3>
                            <p class="card-text">Za pomocą instrukcji warunkowej if (wraz z blokami else) lub switch, stwórz skrypt, który 
                                    w konsoli (za pomocą console.log()) wyświetli cenę produktu, w zależności od liczby 
                                    zakupionych przez klienta do tej pory produktów. Oczywiście wszystko to jest abstrakcyjne, 
                                    więc musisz utworzyć zmienną, która będzie przechowywała liczbę zakupionych produktów, 
                                    np. 100, a następnie zmienną z ceną jakiegoś ﬁkcyjnego produktu, np. 50. Poniżej tych 
                                    dwóch zmiennych utwórz blok instrukcji warunkowych, który ustali ostateczną cenę, w 
                                    zależności od liczby zakupionych przez klienta produktów. <br>
                                    Jeśli zatem klient ma już na koncie od 5 do 20 zakupionych produktów, to przyznaj zniżkę 
                                    5%. Jeśli 21 do 50, to 10%, od 51 do 100 produktów daje zniżkę 15%, a powyżej 100 
                                    produktów zniżkę w wysokości 20%. <br>
                                    Musisz zatem obliczyć ostateczną cenę produktu, a następnie wyświetlić w konsoli 
                                    komunikat, np. “Podstawowa cena produktu to 20zł, po obniżce to 17zł”. Aby to 
                                    przetestować, będziesz musiał zmieniać liczbę zakupionych przez klienta produktów w 
                                    zmiennej, w której taką informację zapiszesz.
                                </p>
                    </div>
                </div>


                
                    <br>
            </div>


        </div>
    </header>
      
        <!----------- MAIN TASK ------------>
        <br>


        <div class="row justify-content-center ">

            <div class="col-md-8 bg-white shadow rounded">
                    <span class="badge badge-secondary shadow">Rozwiązanie</span>

                            <div class="row ">

                                <div class="col-lg-9 border-bottom ">
                                        <div class="form-group row mt-4 ">
                                            <label class="col-md-6 col-form-label text-sm-left  text-md-right" for="price">Wpisz cenę produktu:</label>
                                            <input  class="col-md-4 form-control" type="number" id="price" placeholder="-" autofocus >
                                         </div>
                                         <div class="form-group row ">
                                                <label class="col-md-6 col-form-label text-sm-left  text-md-right" for="amount">Wpisz ilość:</label>
                                                <input class="col-md-4 form-control" type="number" id="amount" placeholder="-">
                                        </div>

                                        <div class="row mt-5 mb-3 ">
                                                <div class="col-6 offset-3">
                                                    <button id="calculate_button" type="button" class="btn btn-outline-primary">Oblicz pierwsze zakupy</button>
                                                </div>
                                                <div class="col-3 ">
                                                    <button id="reset_button" type="reset" class="btn btn-link">Resetuj dane</button>
                                                </div>
                                        </div>
                                </div>

                                    <div class="col-lg-3 border border-top-0 pl-4 ">
                                        <table id="discount_table" class="table table-sm table-borderless text-center h-100 d-inline-block rounded">
                                            <thead>
                                                <tr>
                                                    <th colspan="2" class="pl-4" >Tabela zniżek</th>
                                                </tr>
                                                <tr>
                                                    <td class="pr-3 " >Produkty łącznie:</td>
                                                    <td>Rabat:</td>
                                                </tr>
                                            </thead>
                                            <tbody  >
                                                <tr>
                                                    <td class="pt-0 pl-4">5 - 20</td>
                                                    <td class="pt-0">5%</td>
                                                </tr>
                                                <tr>
                                                    <td class="pt-0 pl-4">21 - 50</td>
                                                    <td class="pt-0">10%</td>
                                                </tr>
                                                <tr>
                                                    <td class="pt-0 pl-4">51 - 100</td>
                                                    <td class="pt-0">15%</td>
                                                </tr>
                                                <tr>
                                                    <td class="pt-0 pl-4">101 &lt; &infin; </td>
                                                    <td class="pt-0">20%</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                            </div>
                    

                    <div class="row ">
                        <div class="col-12 text-center ">

                            <p id="task1-p" class="pt-4 pb-3"><em>Liczba wszystkich zamówień złożonych do tej pory to <span id="products" >-</span>, Twoja zniżka na zakupy wynosi <span id="discount">-</span>.</em> </p>
                            <div class="w-100"></div>
                            <div class="col-8 offset-2 ">
                                
                                <table id="result_table" class="table table-sm table-borderless">
                                    <thead>
                                                <tr>
                                                    <td class="border-right">Cena za sztukę:</td>
                                                    <td class="border-right">Ilość sztuk:</td>
                                                    <td class="border-right border-dark" >Cena przed obniżką:</td>
                                                    <th class="border border-dark border-bottom-0">Cena do zapłaty:</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td id="product_price" class="border-right">-</td>
                                                    <td id="amount_field" class="border-right">-</td>
                                                    <td id="before_discount" class="border-right border-dark">-</td>
                                                    <td id="after_discount" class="font-weight-bold border border-dark border-top-0">-</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <br>
                            </div>
                            
                        </div>


                    </div>


            </div>

        </div>
        <br><br>


        <div class="row bg-secondary justify-content-center ">
          
            <div class="col-auto ">
                <br><br>
                <span class="badge badge-light shadow">Kody źródłowe</span>
                <div class="accordion" id="accordionExample">
                        <div class="card text-white bg-dark border-dark ">
                          <div class="card-header" id="headingOne">
                            <h5 class="mb-0">
                                <br>
                              <button class="btn btn-link text-white" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    <h5 class="card-title">Funkcja warunkowa:</h5>
                              </button>
                            </h5>
                          </div>
                      
                          <div id="collapseOne" class="collapse show " aria-labelledby="headingOne" data-parentt="#accordionExample">
                           
                                    
                                    <pre><code>
    function calculateDiscount(productsAmount) {

        discountTableRows[highlightedRow] ? discountTableRows[highlightedRow].classList.remove("table-primary") : null; 

        var currentDiscount = null;

        if (productsAmount < 5) {   // commmeneeeh
            currentDiscount = 0;
        } else if (productsAmount >= 5 && productsAmount < 21) {
            currentDiscount = 5;
            highlightedRow = 0;
        } else if (productsAmount >= 21 && productsAmount < 51) {
            currentDiscount = 10;
            highlightedRow = 1;
        } else if (productsAmount >= 51 && productsAmount < 101) {
            currentDiscount = 15;
            highlightedRow = 2;
        } else if (productsAmount >= 101) {
            currentDiscount = 20;
            highlightedRow = 3;
        }

        discountTableRows[highlightedRow] ? discountTableRows[highlightedRow].classList.add("table-primary") : null;

        return currentDiscount;
    }
</code></pre>
                          </div>
                        </div>
                        <div class="card text-white bg-dark border-dark border-top-0">
                          <div class="card-header" id="headingTwo">
                            <h5 class="mb-0">
                              <button class="btn btn-link text-white collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                <h5 class="card-title">Cały kod:</h5>
                                
                              </button>
                            </h5>
                          </div>
                          <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parentt="#accordionExample">  
                                <pre><code>
var input_productPrice = document.getElementById("price"),  // asda sd 
    input_productsAmount = document.getElementById("amount"),
    output_currentDiscount = document.getElementById("discount"),
    output_allOrders = document.getElementById("products"),
    output_orderPriceBeforeDiscount = document.getElementById("before_discount"),
    output_orderPriceAfterDiscount = document.getElementById("after_discount"),
    output_productPrice = document.getElementById("product_price"),
    output_productsAmount = document.getElementById("amount_field"),
    discountTable = document.getElementById("discount_table"),
    button_calculateOrder = document.getElementById("calculate_button"),
    button_resetAllOrders = document.getElementById("reset_button"),

    discountTableRows = discountTable.children[1].children,
    allOrders = 0,
    discount = 0,
    priceAfterDiscount,
    highlightedRow = null;

input_productPrice.addEventListener("keypress", function (e) {
    if (e.key == "Enter") {
        input_productsAmount.focus();
    }
})

input_productsAmount.addEventListener("keypress", function (e) {
    if (e.key == "Enter") {
        button_calculateOrder.focus();
    }
})

button_calculateOrder.addEventListener("click", function () {

    var product_price = parseInt(input_productPrice.value);
    var amount = parseInt(input_productsAmount.value);

    if (!product_price) {
        input_productPrice.placeholder = "Podaj cenę!";
        input_productPrice.focus();
        return false;
    } else if (!amount) {
        input_productsAmount.placeholder = "Podaj cenę!";
        input_productsAmount.focus();
        return false;
    } else {
        input_productPrice.placeholder = "-";
        input_productsAmount.placeholder = "-";
    }

    allOrders += amount;
    discount = calculateDiscount(allOrders);

    output_allOrders.innerText = allOrders;
    output_currentDiscount.innerText = discount + "%";

    priceAfterDiscount = (amount * product_price) - (amount * product_price) * discount / 100;

    output_productPrice.innerText = product_price;
    output_productsAmount.innerText = amount;
    output_orderPriceBeforeDiscount.innerHTML = amount * product_price + " zł";
    output_orderPriceAfterDiscount.innerText = priceAfterDiscount + " zł";

    button_calculateOrder.innerText = "Oblicz kolejne zakupy";

    console.log("Podstawowa cena produktów to " + amount * product_price + 
                " zł, po obniżce to " + priceAfterDiscount + " zł");

    input_productPrice.value = "";
    input_productsAmount.value = "";
    input_productPrice.focus();
})

button_resetAllOrders.addEventListener("click", function () {
    allOrders = 0;
    discount = 0;
    input_productPrice.focus();
    output_allOrders.innerText = " - ";
    output_currentDiscount.innerText = " - ";
    output_orderPriceBeforeDiscount.innerText = " - ";
    output_orderPriceAfterDiscount.innerText = " - ";
    output_productPrice.innerText = "-";
    output_productsAmount.innerText = "-";
    button_calculateOrder.innerText = "Oblicz pierwsze zakupy";
    discountTableRows[highlightedRow].classList.remove("table-primary");
    highlightedRow = null;
})

function calculateDiscount(productsAmount) {

    discountTableRows[highlightedRow] ? discountTableRows[highlightedRow].classList.remove("table-primary") : null;

    var currentDiscount = null;

    if (productsAmount < 5) {
        currentDiscount = 0;
    } else if (productsAmount >= 5 && productsAmount < 21) {
        currentDiscount = 5;
        highlightedRow = 0;
    } else if (productsAmount >= 21 && productsAmount < 51) {
        currentDiscount = 10;
        highlightedRow = 1;
    } else if (productsAmount >= 51 && productsAmount < 101) {
        currentDiscount = 15;
        highlightedRow = 2;
    } else if (productsAmount >= 101) {
        currentDiscount = 20;
        highlightedRow = 3;
    }

    discountTableRows[highlightedRow] ? discountTableRows[highlightedRow].classList.add("table-primary") : null;

    return currentDiscount;
}                                                
</code>
</pre>       
                            
                          </div>
                        </div>
                      </div>
                      <br><br>
            </div>


        </div>
        <br><br>


    </div>
    <script src="11.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

</body>

</html>